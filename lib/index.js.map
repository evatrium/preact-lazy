{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import {h} from \"preact\";\nimport {useState, useEffect, useRef} from \"preact/hooks\";\n\nexport default (importFn, fallback, _loaded) =>\n\n    (props, context, [{C}, set] = useState({C: _loaded || fallback}), unmounted = useRef()) => (\n\n        useEffect(() =>\n\n            (!_loaded && importFn()\n                    .then(({default: comp}) =>\n\n                        (_loaded = comp, unmounted.current || set({C: comp}))),\n\n                    () => unmounted.current = 1\n\n            ), []),\n\n            C ? <C {...props}/> : null\n    );\n"],"names":["importFn","fallback","_loaded","props","context","C","set","useState","unmounted","useRef","useEffect","then","default","comp","current","h"],"mappings":"6GAGgBA,EAAUC,EAAUC,IAEhC,CAACC,EAAOC,IAAWC,EAAAA,GAAIC,GAAOC,EAAS,CAACF,EAAGH,GAAWD,IAAYO,EAAYC,OAE1EC,EAAU,MAEJR,GAAWF,IACJW,KAAK,EAAEC,QAASC,MAEZX,EAAUW,EAAML,EAAUM,SAAWR,EAAI,CAACD,EAAGQ,MAElD,IAAML,EAAUM,QAAU,GAE/B,IAEHT,EAAIU,EAACV,EAAMF,GAAW"}